<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-test-types/executor-custom">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">What is a Testkube Executor? | Testkube Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://testkube.kubeshop.io/testkube/test-types/executor-custom"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="What is a Testkube Executor? | Testkube Documentation"><meta data-rh="true" name="description" content="To use a testing framework that is not on the currently supported framework list for Teskube, you can create your custom executor and configure it to run any type of tests that you need. These custom test types can be added to your Testkube installation and/or contributed to our repo. We are very happy to receive executor contributions from our community."><meta data-rh="true" property="og:description" content="To use a testing framework that is not on the currently supported framework list for Teskube, you can create your custom executor and configure it to run any type of tests that you need. These custom test types can be added to your Testkube installation and/or contributed to our repo. We are very happy to receive executor contributions from our community."><link data-rh="true" rel="icon" href="/testkube/img/logo.svg"><link data-rh="true" rel="canonical" href="https://testkube.kubeshop.io/testkube/test-types/executor-custom"><link data-rh="true" rel="alternate" href="https://testkube.kubeshop.io/testkube/test-types/executor-custom" hreflang="en"><link data-rh="true" rel="alternate" href="https://testkube.kubeshop.io/testkube/test-types/executor-custom" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QRREOKFLDE-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-204665550-6","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>



<link rel="search" type="application/opensearchdescription+xml" title="Testkube Documentation" href="/testkube/opensearch.xml"><link rel="stylesheet" href="/testkube/assets/css/styles.1b6e8098.css">
<link rel="preload" href="/testkube/assets/js/runtime~main.a3afee03.js" as="script">
<link rel="preload" href="/testkube/assets/js/main.2eb8897b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/testkube/"><div class="navbar__logo"><img src="/testkube/img/logo.large.svg" alt="Testkube" class="themedImage_ToTc themedImage--light_HNdA"><img src="/testkube/img/logo.large.svg" alt="Testkube" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><iframe src="https://ghbtns.com/github-btn.html?user=kubeshop&repo=testkube&type=star&count=true&color=dark" style="margin-top: 6px" frameborder="0" scrolling="0" width="110" height="20" title="GitHub"></iframe></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/installing">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/testkube/category/using-testkube">Using Testkube</a><button aria-label="Toggle the collapsible sidebar category &#x27;Using Testkube&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/testkube/category/test-types">Test Types</a><button aria-label="Toggle the collapsible sidebar category &#x27;Test Types&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-cypress">Cypress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-postman">Postman</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-soapui">SoapUI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-k6">K6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-kubepug">KubePug</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-artillery">Artillery.io</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-maven">Maven</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-gradle">Gradle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-ginkgo">Ginkgo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/executor-curl">cURL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/testkube/test-types/container-executor">Container Executor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/testkube/test-types/executor-custom">Creating New Test Types</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/testkube/category/cli-reference">CLI Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/openapi">OpenAPI Definition</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/testkube/category/integrations">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/testkube/category/authentication">Authentication</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/testkube/category/contributing">Contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/telemetry">Telemetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/Secrets">Secret Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/testkube/FAQ">FAQ</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/testkube/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/testkube/category/test-types"><span itemprop="name">Test Types</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Creating New Test Types</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>What is a Testkube Executor?</h1><p>To use a testing framework that is not on the currently supported framework list for Teskube, you can create your custom executor and configure it to run any type of tests that you need. These custom test types can be added to your Testkube installation and/or contributed to our repo. We are very happy to receive executor contributions from our community.</p><p>An Executor is a wrapper around a testing framework in the form of a Docker container and run as a Kubernetes job. Usually, an executor runs a particular test framework binary inside a container. Additionally, it is registered as an Executor Custom Resource in your Kubernetes cluster with a type handler defined (e.g. <code>postman/collection</code>).</p><p>The Testkube API is responsible for running executions and will pass test data to the executor and parse the results from the execution output.</p><p>To create a new script, a user needs to pass <code>--type</code>. The API uses it to pair the test type with the executor (executors have a handled <code>types</code> array defined in CRD), and the API will choose which executor to run based on the handled types.</p><p>The API will pass a <code>testube.Execution</code> OpenAPI based document as the first argument to the binary in the executor&#x27;s Docker container.</p><p>The API assumes that the Executor will output JSON data to <code>STDOUT</code> and each line is wrapped in <code>testkube.ExecutorOutput</code> (as in structured logging).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contribute-to-the-testkube-project"><strong>Contribute to the Testkube Project</strong><a class="hash-link" href="#contribute-to-the-testkube-project" title="Direct link to heading">​</a></h2><p>We love to improve Testkube with additional features suggested by our users!</p><p>Please visit our <a href="/testkube/contributing/contributing">Contribution</a> page to see the guidelines for contributing to the Testkube project.</p><h1>Custom Executors</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-custom-executor"><strong>Creating a Custom Executor</strong><a class="hash-link" href="#creating-a-custom-executor" title="Direct link to heading">​</a></h2><p>A custom executor can be created on your own or by using our executor template (in <code>go</code> language).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-testkube-executor-template"><strong>Using <code>testkube-executor-template</code></strong><a class="hash-link" href="#using-testkube-executor-template" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token plain">See the implementation example here: </span><span class="token operator" style="color:#F29668">&lt;</span><span class="token plain">https://github.com/exu/testkube-executor-example</span><span class="token operator" style="color:#F29668">&gt;</span><span class="token punctuation">)</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are familiar with the <code>go</code> programming language, use our template repository for new executors:</p><ol><li>Create a new repository from the template -  <a href="https://github.com/kubeshop/testkube-executor-template" target="_blank" rel="noopener noreferrer">testkube-executor-template</a>.</li><li>Clone the newly created repo.</li><li>Rename the go module from <code>testkube-executor-template</code> to the new name and run <code>go mod tidy</code>.</li></ol><p><a href="https://github.com/kubeshop/testkube" target="_blank" rel="noopener noreferrer">Testkube</a> provides the components to help implement the new runner.
A <code>Runner</code> is a wrapper around a testing framework binary responsible for running tests and parsing tests results. You are not limited to using Testkube&#x27;s components for the <code>go</code> language. Use any language - just remember about managing input and output.</p><p>Let&#x27;s try to create a new test runner that tests if a given URI call is successful (<code>status code == 200</code>).</p><p>To create the new runner, we should implement the <code>testkube.Runner</code> interface first:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token keyword" style="color:#FF8F40">type</span><span class="token plain"> Runner </span><span class="token keyword" style="color:#FF8F40">interface</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"> </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// Run takes Execution data and returns execution result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"> </span><span class="token function" style="color:#FFB454">Run</span><span class="token punctuation">(</span><span class="token plain">execution testkube</span><span class="token punctuation">.</span><span class="token plain">Execution</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">result testkube</span><span class="token punctuation">.</span><span class="token plain">ExecutionResult</span><span class="token punctuation">,</span><span class="token plain"> err </span><span class="token builtin">error</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As we can see, <code>Execution</code> is the input - this object is managed by the Testkube API and will be passed to your executor. The executor will have information about the execution id and content that should be run on top of your runner.</p><p>An example runner is defined in our template. Using this template will only require implementing the Run method (you can rename <code>ExampleRunner</code> to the name that best describes your testing framework).</p><p>A runner can get data from different sources. Testkube currently supports:</p><ul><li>String content (e.g. Postman JSON file).</li><li>URI - content stored on the webserver.</li><li>Git File - the file stored in the Git repo in the given path.</li><li>Git Dir - the entire git repo or git subdirectory (Testkube does a spatial checkout to limit traffic in the case of monorepos).</li></ul><p>All possible test definitions are already created and mounted as Kubernetes <code>Volumes</code> before an executor starts its work. You can get the directory path from the <code>RUNNER_DATADIR</code> environment variable.</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// TODO: change to a valid name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">type</span><span class="token plain"> ExampleRunner </span><span class="token keyword" style="color:#FF8F40">struct</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">func</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">r </span><span class="token operator" style="color:#F29668">*</span><span class="token plain">ExampleRunner</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">Run</span><span class="token punctuation">(</span><span class="token plain">execution testkube</span><span class="token punctuation">.</span><span class="token plain">Execution</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">testkube</span><span class="token punctuation">.</span><span class="token plain">ExecutionResult</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"> </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// execution.Content could have git repo data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// We are also passing content files/directories as mounted volume in a directory.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  path </span><span class="token operator" style="color:#F29668">:=</span><span class="token plain"> os</span><span class="token punctuation">.</span><span class="token function" style="color:#FFB454">Getenv</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;RUNNER_DATADIR&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// For example, the Cypress test is stored in the Git repo so Testkube will check it out automatically </span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// and allow you to use it easily.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  uri </span><span class="token operator" style="color:#F29668">:=</span><span class="token plain"> execution</span><span class="token punctuation">.</span><span class="token plain">Content</span><span class="token punctuation">.</span><span class="token plain">Data</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  resp</span><span class="token punctuation">,</span><span class="token plain"> err </span><span class="token operator" style="color:#F29668">:=</span><span class="token plain"> http</span><span class="token punctuation">.</span><span class="token function" style="color:#FFB454">Get</span><span class="token punctuation">(</span><span class="token plain">uri</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token keyword" style="color:#FF8F40">if</span><span class="token plain"> err </span><span class="token operator" style="color:#F29668">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#D2A6FF">nil</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token keyword" style="color:#FF8F40">return</span><span class="token plain"> result</span><span class="token punctuation">,</span><span class="token plain"> err</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token keyword" style="color:#FF8F40">defer</span><span class="token plain"> resp</span><span class="token punctuation">.</span><span class="token plain">Body</span><span class="token punctuation">.</span><span class="token function" style="color:#FFB454">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  b</span><span class="token punctuation">,</span><span class="token plain"> err </span><span class="token operator" style="color:#F29668">:=</span><span class="token plain"> io</span><span class="token punctuation">.</span><span class="token function" style="color:#FFB454">ReadAll</span><span class="token punctuation">(</span><span class="token plain">resp</span><span class="token punctuation">.</span><span class="token plain">Body</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token keyword" style="color:#FF8F40">if</span><span class="token plain"> err </span><span class="token operator" style="color:#F29668">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#D2A6FF">nil</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token keyword" style="color:#FF8F40">return</span><span class="token plain"> result</span><span class="token punctuation">,</span><span class="token plain"> err</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// If successful, return success result.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token keyword" style="color:#FF8F40">if</span><span class="token plain"> resp</span><span class="token punctuation">.</span><span class="token plain">StatusCode </span><span class="token operator" style="color:#F29668">==</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">200</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token keyword" style="color:#FF8F40">return</span><span class="token plain"> testkube</span><span class="token punctuation">.</span><span class="token plain">ExecutionResult</span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      Status</span><span class="token punctuation">:</span><span class="token plain"> testkube</span><span class="token punctuation">.</span><span class="token plain">ExecutionStatusSuccess</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      Output</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">string</span><span class="token punctuation">(</span><span class="token plain">b</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean" style="color:#D2A6FF">nil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// Otherwise, return an error to simplify the example.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  err </span><span class="token operator" style="color:#F29668">=</span><span class="token plain"> fmt</span><span class="token punctuation">.</span><span class="token function" style="color:#FFB454">Errorf</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;invalid status code %d, (uri:%s)&quot;</span><span class="token punctuation">,</span><span class="token plain"> resp</span><span class="token punctuation">.</span><span class="token plain">StatusCode</span><span class="token punctuation">,</span><span class="token plain"> uri</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token keyword" style="color:#FF8F40">return</span><span class="token plain"> result</span><span class="token punctuation">.</span><span class="token function" style="color:#FFB454">Err</span><span class="token punctuation">(</span><span class="token plain">err</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean" style="color:#D2A6FF">nil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A Runner returns <code>ExecutionResult</code> or <code>error</code> (in the case that the runner can&#x27;t run the test). <code>ExecutionResult</code>
could have different statuses (review the OpenAPI spec for details). In our example, we will focus on <code>success</code> and <code>error</code>.</p><p>Additionally, to parse test framework test parts (e.g. different test steps), create a<br>
<!-- -->map of the particular testing framework and Testkube itself. Those details have been skipped here to simplify the example.</p><p>If running any testing framework binary, it is a best practice to wrap its output.</p><p>Here is an example of <a href="https://github.com/kubeshop/testkube-executor-postman/blob/main/pkg/runner/newman/newman.go#L60" target="_blank" rel="noopener noreferrer">mapping in the Testkube Postman Executor</a>, which is using a <a href="https://github.com/kubeshop/testkube-executor-postman/blob/1b95fd85e5b73e9a243fbff59d5e96c27d0f69c5/pkg/runner/newman/mapper.go#L9" target="_blank" rel="noopener noreferrer">Postman to Testkube Mapper</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-a-custom-executor"><strong>Deploying a Custom Executor</strong><a class="hash-link" href="#deploying-a-custom-executor" title="Direct link to heading">​</a></h3><p>The following example will build and deploy your runner into a Kubernetes cluster:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token function" style="color:#FFB454">docker</span><span class="token plain"> build -t YOUR_USER/testkube-executor-example:1.0.0 </span><span class="token builtin class-name" style="color:#59C2FF">.</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token function" style="color:#FFB454">docker</span><span class="token plain"> push YOUR_USER/testkube-executor-example:1.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When the Docker build completes, register the custom executor using the Testkube cli:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token plain">kubectl testkube create executor --image YOUR_USER/testkube-executor-example:1.0.0 --types </span><span class="token string" style="color:#AAD94C">&quot;example/test&quot;</span><span class="token plain"> --name example-executor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An example Executor custom resource deployed by Testkube would look the following in yaml:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token key atrule" style="color:#FF8F40">apiVersion</span><span class="token punctuation">:</span><span class="token plain"> executor.testkube.io/v1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">kind</span><span class="token punctuation">:</span><span class="token plain"> Executor</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">metadata</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">name</span><span class="token punctuation">:</span><span class="token plain"> example</span><span class="token punctuation">-</span><span class="token plain">executor</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">namespace</span><span class="token punctuation">:</span><span class="token plain"> testkube</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token key atrule" style="color:#FF8F40">spec</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">executor_type</span><span class="token punctuation">:</span><span class="token plain"> job  </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># &#x27;job&#x27; is currently the only type for custom executors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">image</span><span class="token punctuation">:</span><span class="token plain"> YOUR_USER/testkube</span><span class="token punctuation">-</span><span class="token plain">executor</span><span class="token punctuation">-</span><span class="token plain">example</span><span class="token punctuation">:</span><span class="token plain">1.0.0 </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># pass your repository and tag</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">types</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> example/test      </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># your custom type registered (used when creating and running your testkube tests)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">content_types</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> string             </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># test content as string </span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> file</span><span class="token punctuation">-</span><span class="token plain">uri           </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># http based file content</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> git</span><span class="token punctuation">-</span><span class="token plain">file           </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># file stored in Git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> git</span><span class="token punctuation">-</span><span class="token plain">dir            </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># entire dir/project stored in Git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token key atrule" style="color:#FF8F40">features</span><span class="token punctuation">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> artifacts          </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># executor can have artifacts after test run (e.g. videos, screenshots)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">-</span><span class="token plain"> junit</span><span class="token punctuation">-</span><span class="token plain">report       </span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># executor can have junit xml based results</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, create and run your custom tests by passing <code>URI</code> as the test content:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># create </span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token builtin class-name" style="color:#59C2FF">echo</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;http://google.pl&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#F29668">|</span><span class="token plain"> kubectl testkube create </span><span class="token builtin class-name" style="color:#59C2FF">test</span><span class="token plain"> --name example-google-test --type example/test </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token comment" style="color:#ACB6BF8C;font-style:italic"># and run it in testkube</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">kubectl testkube run </span><span class="token builtin class-name" style="color:#59C2FF">test</span><span class="token plain"> example-google-test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is a very basic example of a custom executor. Please visit our internal projects for more examples and the details on implementation:</p><ul><li><a href="https://github.com/kubeshop/testkube-executor-postman/blob/main/pkg/runner/newman/newman.go" target="_blank" rel="noopener noreferrer">Postman runner implementation</a>.</li><li><a href="https://github.com/kubeshop/testkube-executor-cypress/blob/main/pkg/runner/cypress.go" target="_blank" rel="noopener noreferrer">Cypress runner implementation</a>.</li><li><a href="https://github.com/kubeshop/testkube-executor-curl/blob/main/pkg/runner/runner.go" target="_blank" rel="noopener noreferrer">Curl runner implementation</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-custom-executor-in-a-programming-language-other-than-go"><strong>Creating a Custom Executor in a Programming Language other than <code>Go</code></strong><a class="hash-link" href="#creating-a-custom-executor-in-a-programming-language-other-than-go" title="Direct link to heading">​</a></h2><p><a href="https://github.com/kubeshop/testkube-executor-example-nodejs/blob/main/app.js" target="_blank" rel="noopener noreferrer">You can find the fully commented code example here</a>.</p><p>For Go-based executors, we have prepared many handy functions, such as printing valid outputs or wrappers around calling external processes.
Currently, in other languages, you&#x27;ll need to manage this on your own.</p><p>Testkube has simplified test content management. We are supporting several different test content types such as string, uri, git-file and git-dir. The entire complexity of checking out or downloading test content is covered by Testkube.</p><p>Testkube will store its files and directories in a directory defined by the <code>RUNNER_DATADIR</code> env and will save the test-content file for:</p><ul><li>String content (e.g., a postman collection is passed as string content read from a JSON file).</li><li>URI - Testkube will get the content of the file defined by the uri.</li><li>Git related content - Testkube will checkout the repo content in the current directory.</li></ul><p>To be able to proceed with this guide, Testkube should be installed. Review the Testkube <a href="/testkube/installing">installation instructions</a>.</p><p>We have created a simple NodeJS executor.</p><p>The executor will get the URI and try to call the HTTP GET method on the passed value, and will return:</p><ul><li><strong>success</strong> - when the status code is 200. </li><li><strong>failed</strong> - for any other status code.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token string" style="color:#AAD94C">&quot;use strict&quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">const</span><span class="token plain"> https </span><span class="token operator" style="color:#F29668">=</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">require</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;https&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">const</span><span class="token plain"> fs </span><span class="token operator" style="color:#F29668">=</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">require</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">const</span><span class="token plain"> path </span><span class="token operator" style="color:#F29668">=</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">require</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">const</span><span class="token plain"> args </span><span class="token operator" style="color:#F29668">=</span><span class="token plain"> process</span><span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">slice</span><span class="token punctuation">(</span><span class="token number" style="color:#D2A6FF">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword control-flow" style="color:#FF8F40">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">args</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#F29668">==</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token function" style="color:#FFB454">error</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;Please pass arguments&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  process</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">exit</span><span class="token punctuation">(</span><span class="token number" style="color:#D2A6FF">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">var</span><span class="token plain"> uri</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword control-flow" style="color:#FF8F40">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator" style="color:#F29668">!</span><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant" style="color:#D2A6FF">RUNNER_DATADIR</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token function" style="color:#FFB454">error</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;No valid data directory detected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  process</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">exit</span><span class="token punctuation">(</span><span class="token number" style="color:#D2A6FF">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">const</span><span class="token plain"> testContentPath </span><span class="token operator" style="color:#F29668">=</span><span class="token plain"> path</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">join</span><span class="token punctuation">(</span><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant" style="color:#D2A6FF">RUNNER_DATADIR</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;test-content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">uri </span><span class="token operator" style="color:#F29668">=</span><span class="token plain"> fs</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">readFileSync</span><span class="token punctuation">(</span><span class="token plain">testContentPath</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#59C2FF">encoding</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;utf8&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#59C2FF">flag</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;r&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">https</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">get</span><span class="token punctuation">(</span><span class="token plain">uri</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F29668">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#FF8F40">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">res</span><span class="token punctuation">.</span><span class="token property-access">statusCode</span><span class="token plain"> </span><span class="token operator" style="color:#F29668">==</span><span class="token plain"> </span><span class="token number" style="color:#D2A6FF">200</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token function" style="color:#FFB454">successResult</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;Got valid status code: 200 OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#FF8F40">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">      </span><span class="token function" style="color:#FFB454">errorResult</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;Got invalid status code&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">on</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;error&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F29668">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">error</span><span class="token punctuation">(</span><span class="token string" style="color:#AAD94C">&quot;Error: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#F29668">+</span><span class="token plain"> err</span><span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">function</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">errorResult</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token console class-name" style="color:#59C2FF">console</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name" style="color:#59C2FF">JSON</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;type&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;result&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;result&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;status&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;error&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;errorMessage&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> message</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">function</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">successResult</span><span class="token punctuation">(</span><span class="token parameter">output</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token console class-name" style="color:#59C2FF">console</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name" style="color:#59C2FF">JSON</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;type&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;result&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;result&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;status&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;success&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;output&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> output</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token comment" style="color:#ACB6BF8C;font-style:italic">// &#x27;error&#x27; will return the error info not related to the test itself (issues with the executor)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token keyword" style="color:#FF8F40">function</span><span class="token plain"> </span><span class="token function" style="color:#FFB454">error</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><span class="token console class-name" style="color:#59C2FF">console</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name" style="color:#59C2FF">JSON</span><span class="token punctuation">.</span><span class="token method function property-access" style="color:#FFB454">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;type&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> </span><span class="token string" style="color:#AAD94C">&quot;error&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#59C2FF">&quot;content&quot;</span><span class="token operator" style="color:#F29668">:</span><span class="token plain"> message</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The code is ready and working. With the defaults assumed, <code>RUNNER_DATADIR</code> will be <code>/data</code> and the file will be saved in the <code>/data/test-content</code> directory.</p><p>As we can see, we are pushing JSON output to <code>stdin</code> with the <code>console.log</code> function that is based on our <a href="https://kubeshop.github.io/testkube/openapi/" target="_blank" rel="noopener noreferrer">OpenAPI spec - ExecutorOutput</a>.</p><p>The two basic output types handled here are:</p><ul><li>For executor failures (non-test related), return <code>error</code>. </li><li>For a test result, return <code>result</code> with the test status (success, error).</li></ul><p>When the executor code is ready, the next steps are to create:</p><ul><li>A Docker image (create image and push).</li><li>A Kubernetes Executor Custom Resource Definition (CRD).</li><li>The test itself.</li></ul><p>We will simplify and use the latest tag for the steps below but a best practice is to use versioning. Currently, Testkube runs the command directly and passes the execution information as an argument.</p><ol><li>Add the runner binary (we have plans to remove this step in a future release):</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token shebang important">#!/usr/bin/env sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token function" style="color:#FFB454">node</span><span class="token plain"> app.js </span><span class="token string" style="color:#AAD94C">&quot;</span><span class="token string variable" style="color:#59C2FF">$@</span><span class="token string" style="color:#AAD94C">&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Add the runner binary into the Dockerfile:</li></ol><div class="language-Dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Dockerfile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token plain">FROM node:17</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"># Create app directory</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">WORKDIR /usr/src/app</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"># Bundle app source</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">COPY runner /bin/runner</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">RUN chmod +x /bin/runner</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">COPY app.js app.js</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">EXPOSE 8080</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">CMD [ &quot;/bin/runner&quot; ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Build and push the docker container (change <code>user/repo</code> to your Docker Hub username): </li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token function" style="color:#FFB454">docker</span><span class="token plain"> build --platform</span><span class="token operator" style="color:#F29668">=</span><span class="token plain">linux/amd64 -t </span><span class="token environment constant" style="color:#D2A6FF">USER</span><span class="token plain">/testkube-executor-example-nodejs:latest -f Dockerfile </span><span class="token builtin class-name" style="color:#59C2FF">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain"></span><span class="token function" style="color:#FFB454">docker</span><span class="token plain"> push </span><span class="token environment constant" style="color:#D2A6FF">USER</span><span class="token plain">/testkube-executor-example-nodejs:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>After the image is in place for Kubernetes to load, create the executor:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token plain">kubectl testkube create executor --image kubeshop/testkube-executor-example-nodejs:latest --types </span><span class="token string" style="color:#AAD94C">&quot;example/test&quot;</span><span class="token plain"> --name example-nodejs-executor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When everything is in place, we can add our Testkube tests.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token plain">echo &quot;https://httpstat.us/200&quot; | kubectl testkube create test --name example-test --type example/test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As we can see, we need to pass the test name and test type <code>example/test</code> (which we defined in our executor CRD).</p><p>Now it&#x27;s finally time to run our test!</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#BFBDB6;--prism-background-color:#0D1017"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#BFBDB6"><span class="token plain">kubectl tests run example-test -f</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Type          : example/test</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Name          : example-test-string</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Execution ID  : 6218ccd2a26fa94ee7a7cfd1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Execution name: moderately-pleasant-labrador</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Getting pod logs</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Execution completed Got valid status code: 200 OK</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">.</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Use the following command to get test execution details:</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">$ kubectl testkube get execution 6218ccd2a26fa94ee7a7cfd1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Got valid status code: 200 OK</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Test execution completed with success in 6.163s 🥇</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Use the following command to get test execution details:</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">$ kubectl testkube get execution 6218ccd2a26fa94ee7a7cfd1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">Watch the test execution until complete:</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain">$ kubectl testkube watch execution 6218ccd2a26fa94ee7a7cfd1</span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#BFBDB6"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Our test completed successfully! Create another test with a different status code and check to see the result.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources"><strong>Resources</strong><a class="hash-link" href="#resources" title="Direct link to heading">​</a></h2><ul><li><a href="https://kubeshop.github.io/testkube/openapi/" target="_blank" rel="noopener noreferrer">OpenAPI spec details</a>.</li><li><a href="https://raw.githubusercontent.com/kubeshop/testkube/main/api/v1/testkube.yaml" target="_blank" rel="noopener noreferrer">Spec in YAML file</a>.</li></ul><p>Go-based resources for input and output objects:</p><ul><li>Input: <a href="https://github.com/kubeshop/testkube/blob/main/pkg/api/v1/testkube/model_execution.go" target="_blank" rel="noopener noreferrer"><code>testkube.Execution</code></a></li><li>Output line: <a href="https://github.com/kubeshop/testkube/blob/main/pkg/api/v1/testkube/model_executor_output.go" target="_blank" rel="noopener noreferrer"><code>testkube.ExecutorOutput</code></a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kubeshop/testkube/docs/docs/4-test-types/executor-custom.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/testkube/test-types/container-executor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Container Executor</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/testkube/category/cli-reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CLI Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#contribute-to-the-testkube-project" class="table-of-contents__link toc-highlight"><strong>Contribute to the Testkube Project</strong></a></li><li><a href="#creating-a-custom-executor" class="table-of-contents__link toc-highlight"><strong>Creating a Custom Executor</strong></a><ul><li><a href="#using-testkube-executor-template" class="table-of-contents__link toc-highlight"><strong>Using <code>testkube-executor-template</code></strong></a></li><li><a href="#deploying-a-custom-executor" class="table-of-contents__link toc-highlight"><strong>Deploying a Custom Executor</strong></a></li></ul></li><li><a href="#creating-a-custom-executor-in-a-programming-language-other-than-go" class="table-of-contents__link toc-highlight"><strong>Creating a Custom Executor in a Programming Language other than <code>Go</code></strong></a></li><li><a href="#resources" class="table-of-contents__link toc-highlight"><strong>Resources</strong></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/6zupCZFQbe" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Testkube_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/kubeshop/testkube" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Kubeshop.</div></div></div></footer></div>
<script src="/testkube/assets/js/runtime~main.a3afee03.js"></script>
<script src="/testkube/assets/js/main.2eb8897b.js"></script>
</body>
</html>